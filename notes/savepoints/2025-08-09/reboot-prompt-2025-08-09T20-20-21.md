# Reboot Prompt — Riskill Zones-Only Dashboard Save Point (2025-08-09 20:20:21 PT)

Paste the following to rolodexterVS (Windsurf/Cascade) as the FIRST message in a new chat to resume exactly where we left off.

---

You are rolodexterVS (Windsurf/Cascade). Resume the Riskill zones-only glassmorphic dashboard project using this Save Point as authoritative working memory. Be concise, doc-driven, and proactive with preview pings to Joe after meaningful UI changes.

## Project Coordinates
- Repo root: `C:\Users\rolod\OneDrive\riskill-intro`
- App path: `riskill-cinematic/`
- Tech: React + TypeScript + Vite + Tailwind v4
- Local dev server: `http://localhost:5178` with `--strictPort`
- Live site: `https://riskill-zones-glass.windsurf.build`
- Deployment: Windsurf → Netlify
  - ProjectId: `f30c7c0e-885a-45af-a2e0-b49512827417`
  - Latest WindsurfDeploymentId: `6ea3a156-d955-45fc-8323-ca95a27bd604`
  - Deployment config file: `riskill-cinematic/windsurf_deployment.yaml`

## Authoritative Docs & Workflow
- Docs: `PROJECT_STRUCTURE.md`, `README.md`, `WORKLOG.md` (repo root)
- Always update WORKLOG and relevant docs after changes.
- Shell: Windows PowerShell (`;` for chaining). Never run `cd`; use Cwd.
- Browser preview cadence: post local/live URL to Joe for review after meaningful UI/routing/visual changes.

## Current Objective
Fully integrate and validate the dark, minimal nature vista background across local and live, ensure visibility, legibility, and performance, and pass basic QA gates.

## Background Integration — Current State
- Asset: `riskill-cinematic/public/assets/bg/nature-vista-dark.jpg` (Pexels starry night)
- Reference: `riskill-cinematic/src/theme/bg.ts` → `export const BG_URL = "/assets/bg/nature-vista-dark.jpg"`
- CSS:
  - `.bg-onyx-vista`: overlays (radial + linear) + image; softened opacities for legibility
  - `.bg-onyx-vista-raw`: image only (no overlays)
- Backdrop component: `riskill-cinematic/src/components/landing/GradientBackdrop.tsx`
  - Fixed full-viewport, `z-0`, `pointer-events-none`
  - Default: raw background (`bg-onyx-vista-raw`)
  - Opt-in overlays via `?bg=overlay` or `#bg=overlay`
- Result: Local now shows the starry background by default and looks great.

## Recent Fixes & Commits
- Fix: Backdrop was hidden by negative z-index. Set to `z-0`, kept `pointer-events-none`.
- Visibility: Softened overlay gradients in `src/index.css`.
- Toggle: Added/standardized URL switches (default raw; overlays opt-in).
- Hydration error fix: Replaced outer `motion.button` with `motion.div` (role="button" + keyboard handlers) in `src/widgets/CardWidget.tsx` to remove nested `<button>` warnings.
- WORKLOG updated with rationale and steps.
- Latest commit message:
  - `feat(bg): set raw background as default; overlays opt-in via ?bg=overlay; soften overlays; fix nested button warning in CardWidget`

## Deployment Status
- A redeploy has been triggered to the existing project.
- Validate live at `https://riskill-zones-glass.windsurf.build` once the build finishes.
- Use WindsurfDeploymentId `6ea3a156-d955-45fc-8323-ca95a27bd604` to check status if needed.

## Open Threads / Next Actions
1) Live validation (post-deploy)
   - Confirm background visible by default
   - Compare with overlays at `?bg=overlay`
   - Ensure console is clean (no nested button hydration warning)
2) QA gates
   - Responsive checks: 360 / 768 / 1440 / 1920
   - Lighthouse mobile score ≥ 85
   - A11y pass (focus, roles, contrast)
   - Widget-to-widget behavior sanity
3) Performance polish
   - Optional: provide WebP `nature-vista-dark.webp` in `public/assets/bg/` and source-set or modern format fallback if needed
4) Persistence / Audit planning
   - Replace in-memory event bus with persistence layer (plan only)

## Event Bus Topics (in-memory, stabilized)
- `action.queue.push`
- `filters.apply`
- `insight.highlight`
- `nav.goto`

## UX / System Constraints
- Zones-only, glassmorphic dashboard (no routing)
- Strict a11y and animation constraints
- Background must be visible yet readable; use overlays sparingly
- Dev server strict port 5178 (do not auto-fallback)

## Known Warnings / Lints
- CSS lint warnings about `@source`/`@theme` in `src/index.css` (Tailwind v4 CSS features). Monitor but not blocking runtime.
- Hydration warning from nested button: fixed via `CardWidget.tsx` change.

## Key Files (touched / important)
- `riskill-cinematic/public/assets/bg/nature-vista-dark.jpg`
- `riskill-cinematic/src/theme/bg.ts`
- `riskill-cinematic/src/index.css`
- `riskill-cinematic/src/components/landing/GradientBackdrop.tsx`
- `riskill-cinematic/src/widgets/CardWidget.tsx`
- `WORKLOG.md`

## How To Resume
- If not already live, check deploy status for `6ea3a156-d955-45fc-8323-ca95a27bd604` and then validate the site.
- If background looks good live, proceed with QA gates and report findings to Joe.
- Keep the doc-driven workflow: append outcomes and any follow-ups to `WORKLOG.md`; update `README.md`/`PROJECT_STRUCTURE.md` if structure or commands change.
- Keep posting preview/live URLs to Joe proactively after meaningful visual or interaction changes.

## Communication & Roles
- rolodexterVS: Proactive engineering agent; keep responses concise, reference file paths and symbols with backticks, and propose safe commands. Never run destructive or mutating commands without approval. Use Cwd instead of `cd`.
- Joe: Product/design review; approves changes and validates previews.

---

End of Save Point. Resume work from here.
