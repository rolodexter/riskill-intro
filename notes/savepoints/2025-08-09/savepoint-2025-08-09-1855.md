# Reboot Prompt — Riskill Zones-Only Dashboard Save Point (2025-08-09 18:55 PT)

Use this prompt as the very first message in a brand new chat to resume work seamlessly. Addressed to: rolodexterVS (Windsurf/Cascade) and Joe.

---

## System/Agent Alignment
- You are rolodexterVS (Windsurf/Cascade), acting as an agentic coding assistant.
- Pair: Joe (product/engineering).
- OS: Windows.
- Shell: Windows PowerShell; chain commands with `;`.
- Dev server must bind to `http://localhost:5178` with `--strictPort`.
- Doc-driven workflow is mandatory: authoritative docs at repo root must be read/updated before/after changes.

## Repo & Paths
- Repo root: `C:\Users\rolod\OneDrive\riskill-intro`
- App path: `riskill-cinematic/` (React + TypeScript + Vite + Tailwind v4)
- Authoritative docs:
  - `PROJECT_STRUCTURE.md`
  - `README.md`
  - `WORKLOG.md`
- Notes/savepoints: `notes/savepoints/`

## Current Objective
Implement and polish a zones-only, glassmorphic dashboard composed of interactive CardWidgets, with dark nature vista background, strict interaction rules, actionable density buckets, stabilized event topics, and rigorous doc-driven workflow with preview cadence.

## Current Status Summary
- Zones-only skeleton implemented. All zones are populated with `CardWidget`-based micro-apps.
- Background: dark nature vista with overlay gradients implemented via `.bg-onyx-vista` and `GradientBackdrop`.
- Density: actionable buckets (xs/sm/md/lg) wired via `useResizeDensity()` in `RevenuePulse`, `CommandCanvasCard`, `RecommendationsCard`.
- Interactions: `CardWidget` enforces hover/press/focus; quick actions visible on hover/focus and always visible ≤480px; motion limited to transform/opacity only.
- Event bus: in-memory `bus.ts` with stabilized topics: `action.queue.push`, `filters.apply`, `insight.highlight`, `nav.goto`. Demo: Recommendations → ActionQueue.
- Docs updated to reflect background, density, topics, QA gates, and checklist.
- Dev server runs at `http://localhost:5178`.

## Deployment State
- GitHub remote: `origin https://github.com/rolodexter/riskill-intro.git` on branch `main`.
- Windsurf → Netlify deployment initiated.
  - Subdomain: `riskill-zones-glass`
  - Pending URL: https://riskill-zones-glass.windsurf.build
  - WindsurfDeploymentId: `a06b0cba-a9bf-4bfc-a4f9-2dc44b9b2620`
  - ProjectId: `f30c7c0e-885a-45af-a2e0-b49512827417`
  - Config: `riskill-cinematic/netlify.toml`
  - Deployment config saved at: `riskill-cinematic/windsurf_deployment.yaml`
- Action required: Claim the site in Netlify if needed for logs; verify build completion.

## Tech Stack
- React 19 + TypeScript + Vite 7
- Tailwind CSS v4 (`@tailwindcss/postcss` configured)
- Framer Motion for micro-interactions
- In-memory pub/sub event bus (`src/widgets/bus.ts`)

## Key Policies & Constraints
- No routing; single-page zones-only skeleton.
- AA contrast, focus-visible rings, 40×40 hit targets.
- Transform/opacity-only animations; do not animate backdrop-filter; respect prefers-reduced-motion.
- Mobile performance guard: background attachment scroll at ≤480px.
- Preview cadence: After meaningful UI/layout change, run dev server and post preview URL.

## Layout & Naming Conventions
- Grid: Top widgets row, then 3-column grid (25% / 50% / 25%), mobile stacking Top → Middle → Left → Right.
- Core components/files (non-exhaustive):
  - `src/components/landing/GradientBackdrop.tsx`
  - `src/components/landing/{TopWidgets,LeftZone,MiddleCanvas,RightZone}.tsx`
  - `src/widgets/{CardWidget,QuickAction,useResizeDensity,bus}.ts[x]`
  - `src/widgets/{RevenuePulse,CommandCanvasCard,RecommendationsCard,ActionQueueCard,AlertsCard,DataSourcesCard,CtaCard,FiltersCard,InsightStreamCard}.tsx`
  - `src/theme/bg.ts` (BG_URL)
  - `src/index.css` (contains `.bg-onyx-vista` and Tailwind layers)

## Density Contracts (Actionable)
- Buckets determined by container width via `useResizeDensity()`:
  - xs (<360): text 13px, `px-3 py-2`, hide subtitles, no sparklines
  - sm (<560): text 14px, `px-3.5 py-2.5`
  - md (<880): default
  - lg (≥880): enable extra chrome (sparklines/meta)
- Currently enforced in `RevenuePulse`, `CommandCanvasCard`, `RecommendationsCard`.

## Event Topics (Stabilized)
- `action.queue.push` → `{ id, type, payload?, ts }`
- `filters.apply` → `{ query, tags[] }`
- `insight.highlight` → `{ id }`
- `nav.goto` → `{ section: "overview" | "sources" | "agents" | "insights" }`

## Background Implementation
- Token/class: `.bg-onyx-vista` (layered gradients + image) declared in `src/index.css`.
- Helper: `src/theme/bg.ts` exports `BG_URL` → `/assets/bg/nature-vista-dark.jpg`.
- Asset guidance: Place `nature-vista-dark.webp` (or `.jpg`) at `public/assets/bg/` ~220–360 KB, ≥1920×1080.

## Dev Commands (Windows PowerShell)
```powershell
# From app directory
cd "C:\Users\rolod\OneDrive\riskill-intro\riskill-cinematic";
npm run dev

# Build
npm run build
```

## Known Warnings / Troubleshooting
- Tailwind v4 at-rule warnings (`@source`, `@theme`) are benign in editors; build succeeds via PostCSS.
- Ensure `@tailwindcss/postcss` is installed and referenced in `postcss.config.js`.
- If blank page, smoke-test by rendering a simple div in `src/App.tsx`.

## Unresolved / Next Steps
1) Deployment: wait for build; claim site if logs needed; verify live URL. 
2) QA Gates on deployed build: responsive (360/768/1440/1920), Lighthouse mobile ≥85, a11y (focus/contrast/hit targets), widget-to-widget behavior.
3) Background asset: add optimized `nature-vista-dark.webp/jpg` per guidance.
4) Event bridge (future): plan persistence/audit replacing in-memory bus.

## First Actions After Reboot
- Read `PROJECT_STRUCTURE.md`, `README.md`, `WORKLOG.md` to confirm alignment.
- If deploy not live: check status using WindsurfDeploymentId `a06b0cba-a9bf-4bfc-a4f9-2dc44b9b2620` and verify Netlify build.
- Run local preview at `http://localhost:5178` and validate recent density/background changes.
- Post preview or live URL to Joe and request feedback per preview cadence.

## Communication Preferences
- Joe prefers proactive pings after meaningful UI changes; always post the preview/live URL and a short summary.

---

This save point captures the full working memory state, constraints, file map, policies, and the deployment context so we can resume without loss of continuity.
